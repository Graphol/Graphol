<html>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script type="text/javascript" src="vm/graphol/lang/nodo.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/base.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/types/operator.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/types/number.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/types/string.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/types/boolean.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/types/block.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/and.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/eq.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/gt.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/gteq.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/lt.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/lteq.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/neq.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/not.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/or.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/booleanOperators/xor.js"></script>    
    <script type="text/javascript" src="vm/graphol/lang/messages/run.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/messages/async.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/messages/else.js"></script>
    <script type="text/javascript" src="vm/graphol/lang/commands/if.js"></script>
    <script type="text/javascript" src="vm/graphol/command/echo.js"></script>
    <script type="text/javascript" src="vm/graphol/command/input.js"></script>
    <script type="text/javascript" src="vm/graphol/command/stdout/core.js"></script>
    <script type="text/javascript" src="vm/graphol/command/stdout/alert.js"></script>
    <script type="text/javascript" src="vm/graphol/command/stdout/console.js"></script>
    <script type="text/javascript" src="vm/graphol.js"></script>
    <script type="text/javascript" src="vm/grapholvm.js"></script>
    <script type="text/javascript" src="compiler/compiler.js"></script>
    <script type="text/javascript">
        vm = new grapholVm();
        gc = new grapholCompiler();
    </script>
    <body>
        <h1>Protótipo Graphol</h1>
        <h2>REGRAS BÁSICAS</h2>
        Uma expressão é formada por um nodo seguido, opcionalmente por um ou mais: NODO1 NODO2 NODO3 ... NODON</br>
        Isto significa que NODO1 receberá como mensagem os NODOS seguintes e os tratará individualmente.</br>
        Eventualmente um nodo é formado por uma expressão entre parenteses. Neste caso, internamente funciona a mesma regra: o primeiro nodo recebe as mensagens seguintes<br />
        um nodo string ao receber um outro nodo string, é concatenado.</br>
        por padrão, um nodo numérico, ao receber outro nodo numérico é somado</br>
        a primeira mensagem recebida determina se o nodo será numérico ou texto.<br />
        nodo1 "2" 2 -> "22"<br />
        nodo2 2 "2" -> 4 <br />

        <textarea id=code cols=80 rows=15>
mostra{
  x 10
  echo ("alterei o x global para " x)
  y 10
  echo ("aqui y é apenas local com " y)
}
x 0
mostra run       
y 4
x 4 
echo ("Aqui fora y, que no bloco foi criado só localmente, vale " y) 
echo ("Já meu x vale " x) 
        </textarea>
        <input type=button onclick='document.getElementById("codeJs").value = gc.parser(document.getElementById("code").value); vm.load(document.getElementById("codeJs").value); vm.exec(); ' value="Compila e Executa"/>
        <input type=button onclick='document.getElementById("codeJs").value = gc.parser(document.getElementById("code").value); ' value="Compila"/>
        <input type=button onclick='vm.load(document.getElementById("codeJs").value); vm.exec(); ' value="Executa"/>
        <textarea id=codeJs cols=80 rows=15>

        </textarea>
    </body>
</html>
